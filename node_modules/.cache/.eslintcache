[{"/Users/ning/Personal/React_learn/pick-one/src/index.js":"1","/Users/ning/Personal/React_learn/pick-one/src/App.js":"2","/Users/ning/Personal/React_learn/pick-one/src/reportWebVitals.js":"3","/Users/ning/Personal/React_learn/pick-one/src/pickButton.js":"4","/Users/ning/Personal/React_learn/pick-one/src/PickButton.js":"5","/Users/ning/Personal/React_learn/pick-one/src/Display.js":"6","/Users/ning/Personal/React_learn/pick-one/src/Imdb.js":"7","/Users/ning/Personal/React_learn/pick-one/src/Stream.js":"8","/Users/ning/Personal/React_learn/pick-one/src/Imdb_info.js":"9","/Users/ning/Personal/React_learn/pickonemovie/src/index.js":"10","/Users/ning/Personal/React_learn/pickonemovie/src/PickButton.js":"11","/Users/ning/Personal/React_learn/pickonemovie/src/reportWebVitals.js":"12","/Users/ning/Personal/React_learn/pickonemovie/src/Imdb.js":"13","/Users/ning/Personal/React_learn/pickonemovie/src/Stream.js":"14","/Users/ning/Personal/React_learn/pickonemovie/src/ImdbInfo.js":"15"},{"size":555,"mtime":1631804027945,"results":"16","hashOfConfig":"17"},{"size":528,"mtime":1630330533079,"results":"18","hashOfConfig":"17"},{"size":362,"mtime":1630330533081,"results":"19","hashOfConfig":"17"},{"size":318,"mtime":1630333009588,"results":"20","hashOfConfig":"17"},{"size":3832,"mtime":1631899180571,"results":"21","hashOfConfig":"17"},{"size":1096,"mtime":1631646769706,"results":"22","hashOfConfig":"17"},{"size":1030,"mtime":1631886214924,"results":"23","hashOfConfig":"17"},{"size":2613,"mtime":1631898085628,"results":"24","hashOfConfig":"17"},{"size":573,"mtime":1631890939823,"results":"25","hashOfConfig":"17"},{"size":555,"mtime":1631804027945,"results":"26","hashOfConfig":"27"},{"size":3830,"mtime":1639493493362,"results":"28","hashOfConfig":"27"},{"size":362,"mtime":1630330533081,"results":"29","hashOfConfig":"27"},{"size":1087,"mtime":1639492423535,"results":"30","hashOfConfig":"27"},{"size":2648,"mtime":1639493077204,"results":"31","hashOfConfig":"27"},{"size":448,"mtime":1639493326334,"results":"32","hashOfConfig":"27"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},"1hu3ywy",{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"44"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":1,"source":"47","usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"35"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"54","usedDeprecatedRules":"35"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"57","usedDeprecatedRules":"35"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"36u7vq",{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/ning/Personal/React_learn/pick-one/src/index.js",[],["71","72"],"/Users/ning/Personal/React_learn/pick-one/src/App.js",[],"/Users/ning/Personal/React_learn/pick-one/src/reportWebVitals.js",[],"/Users/ning/Personal/React_learn/pick-one/src/pickButton.js",["73","74"],"/Users/ning/Personal/React_learn/pick-one/src/PickButton.js",["75","76","77"],"import React from 'react';\nimport Imdb from './Imdb'\nimport Stream from './Stream'\nimport Imdb_info from './Imdb_info'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './index.css'\nimport { Button, Col, Container, Row } from 'react-bootstrap';\n\n//const apiKey = '361c5360d12fe6b74f04ebd76dfd7c4b' timdb key\nconst apiKey = 'nPkwzsC8PrwHhxzzZvhOFt6OU4rGNVuTFq1UQ7nS'\n\n//generate random number\nfunction getRandom(min,max){\n    return Math.floor(Math.random()*(max-min+1))+min;\n};\n\nasync function getAllMovie() {\n    var page = getRandom(0, 104);\n    let movieList = [];\n\n    let listUrl = `https://api.watchmode.com/v1/list-titles/?apiKey=${apiKey}&regions=GB&page=${page}`\n    var res = await fetch(listUrl);\n    var dat = await res.json();\n    console.log(dat)\n    movieList.push(dat)\n    \n    return movieList;\n}\n\nasync function getSource() {\n    let url = `https://api.watchmode.com/v1/sources/?apiKey=${apiKey}&regions=GB`\n    var res = await fetch(url)\n    var dat = await res.json()\n    return dat;\n}\n\nasync function getGenre() {\n    let url = `https://api.watchmode.com/v1/genres/?apiKey=${apiKey}`\n    var res = await fetch(url)\n    var dat = await res.json()\n    return dat;\n}\n\n\nclass Pick extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataList: [],\n            movie: {},\n            imdb_data: {},\n            source: [],\n            genres: [],\n            selectedGenre: ''\n        }\n        this.handlePick = this.handlePick.bind(this);\n        this.handleIMDBchange = this.handleIMDBchange.bind(this);\n    }\n\n    handleIMDBchange (data) {\n        this.setState({\n            imdb_data: data\n        })\n        //console.log('Called')\n    }\n\n    handlePick() {\n        //console.log(this.state.dataList[0].titles)\n        var elm = getRandom(0, this.state.dataList[0].titles.length)\n        var movie = this.state.dataList[0].titles[elm]\n        console.log(movie)\n        this.setState({\n            movie: movie\n        })\n    }\n    \n    componentDidMount () {\n        getAllMovie().then( data =>\n            this.setState({\n                dataList: data\n            })\n        )\n        //.then(()=>this.handlePick())\n\n        getSource().then(res => \n            this.setState({\n                source: res\n            })\n        )\n    }\n\n    render () {\n        return (\n            <div >\n                <div className='d-flex p-3 mx-auto flex-column'>\n                    <h1 className='cover-heading text-center'>Pick a movie for you</h1>\n                    <Container>\n                        <Row>\n                            <Col className='cover'>\n                                <Imdb value={this.state.movie}  onIMDBchange={this.handleIMDBchange}/>\n                            </Col>\n                            <Col className='info'>\n                                <Imdb_info value={this.state.imdb_data} className='detail'/>\n                                <Stream value={this.state.movie} data={this.state.source}/>\n                            </Col>\n                        </Row>\n                    </Container>\n                </div>\n\n                <div className='align-items-center'>\n                    <Button className=\"btn btn-lg btn-secondary\" onClick={this.handlePick}>Pick!</Button>\n                </div>                \n                \n                \n                <footer className=\"mastfoot mt-auto text-center\">\n                    <div className=\"inner\">\n                        <p>Supported regeions: GB</p>\n                      <p>\n                      <a href=\"https://www.watchmode.com/\" target=\"_blank\"> Streaming data powered by Watchmode.com </a>\n                      </p>\n                    </div>\n                </footer>\n            </div>\n            \n        )\n    }\n}\n\nexport default Pick","/Users/ning/Personal/React_learn/pick-one/src/Display.js",["78","79","80","81","82"],"import React from 'react';\n\nlet imgSrc = `https://www.themoviedb.org/t/p/w600_and_h900_bestv2`\nlet pageLink = \"https://www.imdb.com/title/\"\n\n\nfunction GenreList(props) {\n        let genres\n        if (props.data.genres) {\n            genres = props.data.genres.map((d)=> \n                //console.log(genre.name)\n                <li key={d.id}>\n                    {d.name}\n                </li>\n            )   \n        }\n        return (\n            <div>\n                Genre\n                <ul>{genres }</ul>\n            </div>\n        )\n}\n\nclass DisplayData extends React.Component {\n\n    constructor (props) {\n        super(props);\n    }\n\n    render() {\n         \n        \n        var imdb = this.props.data\n        //console.log(genres)\n        //console.log(imdb)\n\n        return (\n            <div>\n                <div>\n                    <h2> {this.props.value.title} {this.props.value.year}</h2>\n                    <a href={pageLink + this.props.value.imdb_id} target=\"_blank\">IMDB LINK</a>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default DisplayData;",["83","84"],"/Users/ning/Personal/React_learn/pick-one/src/Imdb.js",["85"],"import React from 'react'\n\nconst omdb_key = '6163e7ca'\n\n\nclass Imdb extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {imdbData: {}}\n    }\n\n    componentDidUpdate(prevProps) {\n        //console.log(this.props.value.imdb_id)\n        var id = this.props.value.imdb_id\n        if (id !== prevProps.value.imdb_id) {\n            fetch(`http://www.omdbapi.com/?i=${id}&apikey=${omdb_key}`)\n            .then(res => res.json())\n            .then(data => {\n                console.log(data)\n                this.setState({\n                    imdbData: data\n                })\n                this.props.onIMDBchange(this.state.imdbData)\n            })\n            .catch(err => {\n            \tconsole.error(err);\n            })  \n        }\n    }\n\n\n    render() {\n        return (\n            <div>\n                <h2> {this.props.value.title} ({this.props.value.year})</h2>\n                <img src={this.state.imdbData.Poster}></img>\n            </div>\n        )\n\n    }\n}\n\nexport default Imdb","/Users/ning/Personal/React_learn/pick-one/src/Stream.js",["86","87","88"],"import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nconst apiKey = 'nPkwzsC8PrwHhxzzZvhOFt6OU4rGNVuTFq1UQ7nS'\nlet baseUrl = 'https://api.watchmode.com/v1/search/?apiKey={apiKey}&search_value=Ed%20Wood'\n\n\nasync function getStreamData (movie_id) {\n    let streams = await fetch(`https://api.watchmode.com/v1/title/${movie_id}/sources/?apiKey=${apiKey}&regions=GB`)\n    .then(res => res.json())\n\n    console.log(streams)\n\n    return streams\n}\n\nfunction GenreList(props) {\n    let genres\n    \n        genres = props.data.map((d, index)=> \n            //console.log(genre.name)\n            <li key={index}>\n                <a href={d.web_url} target='_blank'>{d.name}</a>\n            </li>\n        )   \n    \n    return (\n        <div>\n            <ul>{genres }</ul>\n        </div>\n    )\n}\n\nclass Stream extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state ={\n            stream: []\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        var id = this.props.value.id\n        if (id !== prevProps.value.id) {\n            getStreamData(id)\n            .then(data => this.setState({\n                stream: data\n                })\n            ).then(()=> {\n                var arrayOne =  this.props.data;\n                var arrayTwo = this.state.stream;\n                \n                const results = arrayOne.filter(({ id: id1 }) => arrayTwo.some(({ source_id: id2 }) => id2 === id1));\n\n                console.log(results)\n                //Add stream service name\n                for (let index = 0; index < arrayTwo.length; index++) {\n                    const element = arrayTwo[index];\n                    for (let index = 0; index < results.length; index++) {\n                        const id = results[index].id;\n                        if (element.source_id == id) {\n                            element.name = results[index].name\n                        }    \n                    }   \n                }\n                \n                //filter duplicate data\n                arrayTwo = arrayTwo.filter((thing, index, self) =>\n                    index === self.findIndex((t) => (\n                      t.source_id === thing.source_id && t.web_url === thing.web_url\n                    ))\n                )\n\n                this.setState({\n                    stream: arrayTwo\n                })\n            })\n        }\n    }\n\n    render () {\n        return (\n            <div className='detail'>\n                Avaialbe on:\n                <GenreList  data={this.state.stream}/>\n            </div>\n        )\n    }\n}\n\nexport default Stream;","/Users/ning/Personal/React_learn/pick-one/src/Imdb_info.js",["89","90"],"import React from 'react'\n\nconst pageLink = \"https://www.imdb.com/title/\"\n\nclass Imdb_info extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <div className='detail'>\n                <p>Genre: {this.props.value.Genre}</p>\n                <p>Imdb Score: {this.props.value.imdbRating}</p>\n                <p>Votes: {this.props.value.imdbVotes}</p>\n                <a href={pageLink + this.props.value.imdb_id} target=\"_blank\">IMDB Page</a>\n            </div>\n        )\n\n    }\n}\n\nexport default Imdb_info","/Users/ning/Personal/React_learn/pickonemovie/src/index.js",[],["91","92"],"/Users/ning/Personal/React_learn/pickonemovie/src/PickButton.js",[],"/Users/ning/Personal/React_learn/pickonemovie/src/reportWebVitals.js",[],"/Users/ning/Personal/React_learn/pickonemovie/src/Imdb.js",[],"/Users/ning/Personal/React_learn/pickonemovie/src/Stream.js",[],"/Users/ning/Personal/React_learn/pickonemovie/src/ImdbInfo.js",[],{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","severity":1,"message":"98","line":2,"column":8,"nodeType":"99","messageId":"100","endLine":2,"endColumn":16},{"ruleId":"97","severity":1,"message":"101","line":4,"column":7,"nodeType":"99","messageId":"100","endLine":4,"endColumn":17},{"ruleId":"97","severity":1,"message":"102","line":37,"column":16,"nodeType":"99","messageId":"100","endLine":37,"endColumn":24},{"ruleId":"103","severity":1,"message":"104","line":103,"column":33,"nodeType":"105","messageId":"106","endLine":103,"endColumn":93},{"ruleId":"107","severity":1,"message":"108","line":119,"column":23,"nodeType":"105","messageId":"109","endLine":119,"endColumn":76,"fix":"110"},{"ruleId":"97","severity":1,"message":"111","line":3,"column":5,"nodeType":"99","messageId":"100","endLine":3,"endColumn":11},{"ruleId":"97","severity":1,"message":"112","line":7,"column":10,"nodeType":"99","messageId":"100","endLine":7,"endColumn":19},{"ruleId":"113","severity":1,"message":"114","line":27,"column":5,"nodeType":"115","messageId":"116","endLine":29,"endColumn":6},{"ruleId":"97","severity":1,"message":"117","line":34,"column":13,"nodeType":"99","messageId":"100","endLine":34,"endColumn":17},{"ruleId":"107","severity":1,"message":"108","line":42,"column":21,"nodeType":"105","messageId":"109","endLine":42,"endColumn":83,"fix":"118"},{"ruleId":"93","replacedBy":"119"},{"ruleId":"95","replacedBy":"120"},{"ruleId":"121","severity":1,"message":"122","line":36,"column":17,"nodeType":"105","endLine":36,"endColumn":55},{"ruleId":"97","severity":1,"message":"123","line":5,"column":5,"nodeType":"99","messageId":"100","endLine":5,"endColumn":12},{"ruleId":"107","severity":1,"message":"108","line":23,"column":17,"nodeType":"105","messageId":"109","endLine":23,"endColumn":53,"fix":"124"},{"ruleId":"125","severity":1,"message":"126","line":61,"column":47,"nodeType":"127","messageId":"128","endLine":61,"endColumn":49},{"ruleId":"113","severity":1,"message":"114","line":6,"column":5,"nodeType":"115","messageId":"116","endLine":8,"endColumn":6},{"ruleId":"107","severity":1,"message":"108","line":16,"column":17,"nodeType":"105","messageId":"109","endLine":16,"endColumn":79,"fix":"129"},{"ruleId":"93","replacedBy":"130"},{"ruleId":"95","replacedBy":"131"},"no-native-reassign",["132"],"no-negated-in-lhs",["133"],"no-unused-vars","'ReactDOM' is defined but never used.","Identifier","unusedVar","'PickButton' is defined but never used.","'getGenre' is defined but never used.","react/jsx-pascal-case","Imported JSX component Imdb_info must be in PascalCase or SCREAMING_SNAKE_CASE","JSXOpeningElement","usePascalOrSnakeCase","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","noTargetBlank",{"range":"134","text":"135"},"'imgSrc' is assigned a value but never used.","'GenreList' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'imdb' is assigned a value but never used.",{"range":"136","text":"135"},["132"],["133"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","'baseUrl' is assigned a value but never used.",{"range":"137","text":"135"},"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",{"range":"138","text":"135"},["132"],["133"],"no-global-assign","no-unsafe-negation",[3635,3635]," rel=\"noreferrer\"",[993,993],[675,675],[495,495]]